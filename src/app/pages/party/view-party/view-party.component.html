<nb-card>
  <nb-card-header>Party
    <button style="float: right;margin-left: 10px" nbButton size="xsmall" status="info" (click)="onAddParty()">
      Add Party
    </button>
    <button style="float: right;" nbButton size="xsmall" status="info" (click)="onExport()">Export</button>
  </nb-card-header>
  <nb-card-body>
    <div *ngIf="viewGroupDataPermission && !viewAllDataPermission">
      <nb-radio-group class="row ml-2 mb-2" [(ngModel)]="radioSelected" (valueChange)="getPartyData($event)">
        <nb-radio [value]="1">
          View Own
        </nb-radio>
        <nb-radio [value]="2">
          View Group
        </nb-radio>
      </nb-radio-group>
    </div>
    <div *ngIf="viewGroupDataPermission && viewAllDataPermission">
      <nb-radio-group class="row ml-2 mb-2" [(ngModel)]="radioSelected" (valueChange)="getPartyData($event)">
        <nb-radio class="radio-inline" [value]="1">
          View Own
        </nb-radio>
        <nb-radio class="radio-inline" [value]="2">
          View Group
        </nb-radio>
        <nb-radio class="radio-inline" [value]="3">
          View All
        </nb-radio>
      </nb-radio-group>
    </div>
    <ag-grid-angular style="width: 100%; height:500px" class="ag-theme-balham" [rowData]="rowData"
      [columnDefs]="columnDefs" [pagination]="true" [paginationPageSize]='100' (gridReady)="onGridReady($event)">
    </ag-grid-angular>
  </nb-card-body>
</nb-card>
<!-- <section id="advanced">
  <div class="row text-left">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-header text-left">
          <div class="row">
            <h4 class="col-md-6" class="card-title">Party</h4>
            <div class="col-md-2">
              <button nbButton size="xsmall" class="btn btn-primary" (click)="onAddParty()">
                Add Party
              </button>
            </div>

            <div class="col-md-2">
              <button nbButton size="xsmall" class="btn btn-primary" (click)="onExport()">Export</button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="card-block">
            <div class="row">

            </div>
            <div class="row table table-responsive">
              <ag-grid-angular style="width: 100%; height:500px" class="ag-theme-balham" [rowData]="rowData"
                [columnDefs]="columnDefs" [pagination]="true" [paginationPageSize]='100'
                (gridReady)="onGridReady($event)">
              </ag-grid-angular>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->

<!-- <div class="row">
  <div class="col-md-3" *ngIf="!applyFilterFlag">
    <button class="btn btn-raised btn-primary" (click)="onApplyFilters()">Apply Filter</button>
  </div>
  <div class="col-md-3" *ngIf="applyFilterFlag">
    <button class="btn btn-raised btn-primary" (click)="onResetFilters()">Reset Filter</button>
  </div>
</div>
<div class="row card" *ngIf="applyFilterFlag">
  <div class="card-body">
    <div class="card-block">
      <div class="row">
        <div class="col-md-3" *ngIf="partyNameList.length">
          <ng-select [items]="partyNameList" bindLabel="name" bindValue="name" [multiple]="true"
            placeholder="Select Party Name" (change)="onChange($event,'party_name')" [(ngModel)]="selectedNameIds">
          </ng-select>
        </div>
        <div class="col-md-3" *ngIf="partyAddressList.length">
          <ng-select [items]="partyAddressList" bindLabel="name" bindValue="name" [multiple]="true"
            placeholder="Select Party Address" (change)="onChange($event,'party_address1')" [(ngModel)]="selectedAddressIds">
          </ng-select>
        </div>
        <div class="col-md-3" *ngIf="partyCityList.length">
          <ng-select [items]="partyCityList" bindLabel="name" bindValue="name" [multiple]="true"
            placeholder="Select City" (change)="onChange($event,'city')" [(ngModel)]="selectedCityIds">
          </ng-select>
        </div>
        <div class="col-md-3" *ngIf="partyStateList.length">
          <ng-select [items]="partyStateList" bindLabel="name" bindValue="name" [multiple]="true"
            placeholder="Select State" (change)="onChange($event,'state')" [(ngModel)]="selectedStateIds">
          </ng-select>
        </div>
      </div>
    </div>
  </div>
</div>
<ngx-datatable #myTable class="bootstrap table" style="height: 380px;" [rows]="rows" [columns]="columns"
  [columnMode]="'force'" [headerHeight]="50" [loadingIndicator]="isLoading" [scrollbarV]="false" [footerHeight]="50"
  [rowHeight]="50" [externalPaging]="true" [externalSorting]="true" [count]="page.totalElements" [limit]="page.size"
  [offset]="page.pageNumber" (page)='setPage($event)' (sort)='setSorting($event)'>

  <ngx-datatable-column class="ft-edit-2 info font-medium-1 mr-2" [sortable]="true" name="Party Name" prop="party_name">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.party_name}}
    </ng-template>

  </ngx-datatable-column>
  <ngx-datatable-column name="Party Address1" prop="party_address1">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.party_address1}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Contact No" prop="contact_no">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.contact_no}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="City" prop="city">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.city}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="State" prop="state">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.state}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="GSTIN" prop="GSTIN">
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{row.GSTIN}}
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Actions" prop="party_id">
    <ng-template let-row="row" ngx-datatable-cell-template>
      <i class="ft-edit-2 info font-medium-1 mr-2" (click)="onEditParty(row.party_id)"></i>
      <i class="ft-x danger font-medium-1 mr-2" (click)="onDeleteParty(row.party_id)"></i>
    </ng-template>
  </ngx-datatable-column>
</ngx-datatable> -->